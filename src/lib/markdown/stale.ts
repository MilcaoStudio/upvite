/**
 * 
 * l -> ref.getAttribute("data-slate-length")
 * d -> offset + l as number
ocus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=eE.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&f.Transforms.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,a=eE.toDOMNode(e,e);try{n=W(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===a&&(!i||!!n.isContentEditable||"boolean"==typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===a||!!n.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),setFragmentData(e,t,n){e.setFragmentData(t,n)},toDOMNode(e,t){var n=M.get(e),r=f.Editor.isEditor(t)?w.get(e):null==n?void 0:n.get(eE.findKey(e,t));if(!r)throw Error("Cannot resolve a DOM node from Slate node: ".concat(f.Scrubber.stringify(t)));return r},toDOMPoint(e,t){var[n]=f.Editor.node(e,t.path),r=eE.toDOMNode(e,n);f.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});
for(
    var i=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),a=0,o=0;
    o<i.length;
    o++){
    var s=i[o],u=s.childNodes[0];
    if(null!=u&&null!=u.textContent){
        var{length:c}=u.textContent,l=s.getAttribute("data-slate-length"),d=a+(null==l?c:parseInt(l,10)),p=i[o+1];
        if(t.offset===d&&null!=p&&p.hasAttribute("data-slate-mark-placeholder")){
            var h,m,g=p.childNodes[0];
            h=[g instanceof G?g:p,null!==(m=p.textContent)
                &&void 0!==m&&m.startsWith("\uFEFF")?1:0];
            break
    }
    if(t.offset<=d){
        h=[u,Math.min(c,Math.max(0,t.offset-a))];
        break
    }
    a=d
}
}
if(!h)throw Error("Cannot resolve a DOM point from Slate point: ".concat(f.Scrubber.stringify(t)));return h},toDOMRange(e,t){var{anchor:n,focus:r}=t,i=f.Range.isBackward(t),a=eE.toDOMPoint(e,n),o=f.Range.isCollapsed(t)?a:eE.toDOMPoint(e,r),s=eE.getWindow(e).document.createRange(),[u,c]=i?o:a,[l,d]=i?a:o,p=!!(W(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),h=!!(W(l)?l:l.parentElement).getAttribute("data-slate-zero-width");return s.setStart(u,p?1:c),s.setEnd(l,h?1:d),s},toSlateNode(e,t){var n=W(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?C.get(n):null;if(!r)throw Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n,{clientX:r,clientY:i,target:a}=t;if(null==r||null==i)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o=eE.toSlateNode(e,t.target),s=eE.findPath(e,o);if(f.Element.isElement(o)&&f.Editor.isVoid(e,o)){var u=a.getBoundingClientRect(),c=e.isInline(o)?r-u.left<u.left+u.width-r:i-u.top<u.top+u.height-i,l=f.Editor.point(e,s,{edge:c?"start":"end"}),d=c?f.Editor.before(e,l):f.Editor.after(e,l);if(d)return f.Editor.range(e,d)}var{document:p}=eE.getWindow(e);if(p.caretRangeFromPoint)n=p.caretRangeFromPoint(r,i);else{var h=p.caretPositionFromPoint(r,i);h&&((n=p.createRange()).setStart(h.offsetNode,h.offset),n.setEnd(h.offsetNode,h.offset))}if(!n)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return eE.toSlateRange(e,n,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,n){var{exactMatch:r,suppressThrow:i}=n,[a,o]=r?t:X(t),s=a.parentNode,u=null,c=0;if(s){var l,d,p=eE.toDOMNode(e,e),h=s.closest('[data-slate-void="true"]'),m=h&&p.contains(h)?h:null,g=s.closest("[data-slate-leaf]"),_=null;if(g){if(u=g.closest('[data-slate-node="text"]')){var b=eE.getWindow(e).document.createRange();b.setStart(u,0),b.setEnd(a,o);var v=b.cloneContents();[...Array.prototype.slice.call(v.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(v.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(ec&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),c=v.textContent.length,_=u}}else if(m){for(var y=m.querySelectorAll("[data-slate-leaf]"),E=0;E<y.length;E++){var S=y[E];if(eE.hasDOMNode(e,S)){g=S;break}}g?(u=g.closest('[data-slate-node="text"]'),c=(_=g).textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach(e=>{c-=e.textContent.length})):c=1}_&&c===_.textContent.length&&ec&&"z"===_.getAttribute("data-slate-zero-width")&&null!==(l=_.textContent)&&void 0!==l&&l.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||el&&null!==(d=_.textContent)&&void 0!==d&&d.endsWith("\n\n"))&&c--}if(ec&&!u&&!r){var x=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(x&&eE.hasDOMNode(e,x,{editable:!0})){var w=eE.toSlateNode(e,x),{path:T,offset:C}=f.Editor.start(e,eE.findPath(e,w));return!x.querySelector("[data-slate-leaf]")&&(C=o),{path:T,offset:C}}}if(!u){if(i)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=eE.toSlateNode(e,u);return{path:eE.findPath(e,D),offset:c}},toSlateRange(e,t,n){var r,i,a,o,s,u,{exactMatch:c,suppressThrow:l}=n;if((q(t)?t.anchorNode:t.startContainer)&&(q(t)?(r=t.anchorNode,i=t.anchorOffset,a=t.focusNode,o=t.focusOffset,s=ep&&J(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,i=t.startOffset,a=t.endContainer,o=t.endOffset,s=t.collapsed)),null==r||null==a||null==i||null==o)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));"getAttribute"in a&&"false"===a.getAttribute("contenteditable")&&(a=r,o=(null===(u=r.textContent)||void 0===u?void 0:u.length)||0);var d=eE.toSlatePoint(e,[r,i],{exactMatch:c,suppressThrow:l});if(!d)return null;var p=s?d:eE.toSlatePoint(e,[a,o],{exactMatch:c,suppressThrow:l});if(!p)return null;if(el&&!s&&r!==a){var h=f.Editor.isEnd(e,d,d.path),m=f.Editor.isStart(e,p,p.path);h&&(d=f.Editor.after(e,d)||d),m&&(p=f.Editor.before(e,p)||p)}var g={anchor:d,focus:p};return f.Range.isExpanded(g)&&f.Range.isForward(g)&&W(a)&&f.Editor.void(e,{at:g.focus,mode:"highest"})&&(g=f.Editor.unhangRange(e,g,{voids:!0})),g},hasRange(e,t){var{anchor:n,focus:r}=t;return f.Editor.hasPath(e,n.path)&&f.Editor.hasPath(e,r.path)},hasTarget:(e,t)=>K(t)&&eE.hasDOMNode(e,t),hasEditableTarget:(e,t)=>K(t)&&eE.hasDOMNode(e,t,{editable:!0}),hasSelectableTarget:(e,t)=>eE.hasEditableTarget(e,t)||eE.isTargetInsideNonReadonlyVoid(e,t),isTargetInsideNonReadonlyVoid(e,t){if(A.get(e))return!1;var n=eE.hasTarget(e,t)&&eE.toSlateNode(e,t);return f.Element.isElement(n)&&f.Editor.isVoid(e,n)},androidScheduleFlush(e){var t;null===(t=L.get(e))||void 0===t||t()},androidPendingDiffs:e=>B.get(e)},eS=["anchor","focus"],ex=["anchor","focus"],ew=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),eT=(e,t)=>{var n=b(e,eS),r=b(t,ex);return e[z]===t[z]&&ew(n,r)},eC=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!f.Range.equals(r,i)||!eT(r,i))return!1}return!0},eD=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!eT(r,i))return!1}return!0},eO=ev?c.useLayoutEffect:c.useEffect,eM=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,a=eI(),o=eE.findPath(a,i),s=f.Path.parent(o),u=!0===n[H];return a.isVoid(r)?

l().createElement(eR,{length:f.Node.string(r).length})
:""!==n.text||r.children[r.children.length-1]!==i||a.isInline(r)||""!==f.Editor.string(a,s)?""===n.text?l().createElement(eR,{isMarkPlaceholder:u}):t&&"\n"===n.text.slice(-1)?l().createElement(eA,{isTrailing:!0,text:n.text}):l().createElement(eA,{text:n.text}):l().createElement(eR,{isLineBreak:!0,isMarkPlaceholder:u})},eA=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,c.useRef)(null),i=()=>"".concat(null!=t?t:"").concat(n?"\n":""),[a]=(0,c.useState)(i);return eO(()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)}),l().createElement(ek,{ref:r},a)},ek=(0,c.memo)((0,c.forwardRef)((e,t)=>l().createElement("span",{"data-slate-string":!0,ref:t},e.children))),eR=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),l().createElement("span",Object.assign({},i),ec&&n?null:"\uFEFF",n?l().createElement("br",null):null)},eN=(0,c.createContext)(null),eI=()=>{var e=(0,c.useContext)(eN);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},eL=l().memo(e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:a,renderLeaf:o=e=>l().createElement(eP,Object.assign({},e))}=e,s=(0,c.useRef)(null),u=(0,c.useRef)(null),d=eI(),f=(0,c.useRef)(null);(0,c.useEffect)(()=>()=>{f.current&&f.current.disconnect()},[]),(0,c.useEffect)(()=>{var e=null==u?void 0:u.current;if(e?T.set(d,e):T.delete(d),f.current)f.current.disconnect(),e&&f.current.observe(e);else if(e){var t=window.ResizeObserver||p.ResizeObserver;f.current=new t(()=>{var e=j.get(d);null==e||e()}),f.current.observe(e)}if(!e&&s.current){var n=j.get(d);null==n||n()}return s.current=u.current,()=>{T.delete(d)}},[u,t]);var h=l().createElement(eM,{isLast:n,leaf:t,parent:i,text:r});if(t[z]){var m={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:u}};h=l().createElement(l().Fragment,null,a(m),h)}return o({attributes:{"data-slate-leaf":!0},children:h,leaf:t,text:r})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&f.Text.equals(t.leaf,e.leaf)&&t.leaf[z]===e.leaf[z]),eP=e=>{var{attributes:t,children:n}=e;return l().createElement("span",Object.assign({},t),n)},eF=l().memo(e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:a,text:o}=e,s=eI(),u=(0,c.useRef)(null),d=f.Text.decorations(o,t),p=eE.findKey(s,o),h=[],m=0;m<d.length;m++){var g=d[m];h.push(l().createElement(eL,{isLast:n&&m===d.length-1,key:"".concat(p.id,"-").concat(m),renderPlaceholder:i,leaf:g,text:o,parent:r,renderLeaf:a}))}var _=(0,c.useCallback)(e=>{var t=M.get(s);e?(null==t||t.set(p,e),D.set(o,e),C.set(e,o)):(null==t||t.delete(p),D.delete(o),u.current&&C.delete(u.current)),u.current=e},[u,s,p,o]);return l().createElement("span",{"data-slate-node":"text",ref:_},h)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&eD(t.decorations,e.decorations)),eB=l().memo(e=>{var{decorations:t,element:n,renderElement:r=e=>l().createElement(eU,Object.assign({},e)),renderPlaceholder:a,renderLeaf:o,selection:s}=e,u=eI(),d=e$(),p=u.isInline(n),h=eE.findKey(u,n),m=(0,c.useCallback)(e=>{var t=M.get(u);e?(null==t||t.set(h,e),D.set(n,e),C.set(e,n)):(null==t||t.delete(h),D.delete(n))},[u,h,n]),g=eG({decorations:t,node:n,renderElement:r,renderPlaceholder:a,renderLeaf:o,selection:s}),_={"data-slate-node":"element",ref:m};if(p&&(_["data-slate-inline"]=!0),!p&&f.Editor.hasInlines(u,n)){var b=f.Node.string(n),v=i()(b);"rtl"===v&&(_.dir=v)}if(f.Editor.isVoid(u,n)){_["data-slate-void"]=!0,!d&&p&&(_.contentEditable=!1);var[[y]]=f.Node.texts(n);g=l().createElement(p?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},l().createElement(eF,{renderPlaceholder:a,decorations:[],isLast:!1,parent:n,text:y})),E.set(y,0),S.set(y,n)}return r({attributes:_,children:g,element:n,decorations:t})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&eC(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&f.Range.equals(e.selection,t.selection))),eU=e=>{var{attributes:t,children:n,element:r}=e,i=eI().isInline(r)?"span":"div";return l().createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},eY=(0,c.createContext)(()=>[]),ej=()=>(0,c.useContext)(eY),ez=(0,c.createContext)(!1),eH=()=>(0,c.useContext)(ez),eG=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:o}=e,s=ej(),u=eI(),c=eE.findPath(u,n),d=[],p=f.Element.isElement(n)&&!u.isInline(n)&&f.Editor.hasInlines(u,n),h=0;h<n.children.length;h++){var m=c.concat(h),g=n.children[h],_=eE.findKey(u,g),b=f.Editor.range(u,m),v=o&&f.Range.intersection(b,o),y=s([g,m]);for(var x of t){var w=f.Range.intersection(x,b);w&&y.push(w)}f.Element.isElement(g)?d.push(l().createElement(ez.Provider,{key:"provider-".concat(_.id),value:!!v},l().createElement(eB,{decorations:y,element:g,key:_.id,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:v}))):d.push(l().createElement(eF,{decorations:y,key:_.id,isLast:p&&h===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:a,text:g})),E.set(g,h),S.set(g,n)}return d},eV=(0,c.createContext)(!1),e$=()=>(0,c.useContext)(eV),eW=(0,c.createContext)(null),eK=()=>{var e=(0,c.useContext)(eW);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},eq={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},eQ={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace"
 */